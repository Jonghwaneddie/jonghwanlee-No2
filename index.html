<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargo Demo Site Index</title>
    

<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css" />
    <style>
        /* 기본 리셋 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* 스크롤 고정 핵심 */
        html, body {
            height: 100%; /* 뷰포트 높이 전체 차지 */
        }

        a {
            color: inherit;
            text-decoration: none;
            cursor: pointer;
        }

        body {
            /* Pretendard 폰트 적용 */
            font-family: 'Pretendard', sans-serif; 
            font-size: 13px;
            color: #000;
            display: flex;
            flex-direction: column; /* 세로로 배치 */
            overflow: hidden; /* 화면 전체 스크롤 방지 (데스크톱) */
        }

        /* 1. 헤더 */
        .main-header {
            position: relative;
            padding: 10px 0;
            height: 40px; /* 고정 높이 */
            flex-shrink: 0;
        }

        /* 공통: 상단 텍스트 스타일 */
        .top-text {
            position: absolute;
            font-size: 14px;
            top: 10px;
            white-space: nowrap;
        }

        .top-jhl { left: 20px; }
        .top-info { left: 180px; } 
        .top-note { left: 360px; } 
        .top-cv { left: 510px; } 
        .top-works { left: calc(40% + 20px); } 

        /* ⭐ 데스크톱: Contact를 오른쪽 상단 구석에 배치 ⭐ */
        .top-contact { right: 20px; left: auto; } 

        /* 2. 메인 콘텐츠 래퍼 (좌우 40:60 레이아웃) */
        .main-content-wrapper {
            display: flex; 
            flex: 1; 
            overflow: hidden; 
        }

        /* 3. 왼쪽 패널 (정보 및 인덱스) */
        .left-panel {
            width: 40%; 
            height: 100%;
            padding: 20px;
            overflow-y: auto; 
        }

        .cv-info {
            margin-top: 5px; 
            margin-bottom: 30px;
        }

        /* information 글 들여쓰기 */
        .cv-info .deep-indent {
            margin-left: 160px; 
            padding-left: 0;
            line-height: 1.4;
            text-align: justify;
        }

        /* 3-2. 프로젝트 인덱스 테이블 스타일 (Grid 사용) */
        .project-table {
            margin-top: 20px;
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr 2fr 0.5fr; 
            padding: 5px 0;
        }

        /* 테이블 헤더 스타일 */
        .table-row.header {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        /* 4. 오른쪽 패널 (스크롤 가능한 영역) */
        .right-panel {
            width: 60%; 
            height: 100%;
            overflow-y: scroll; 
            padding: 20px;
        }

        /* ⭐ 첫 번째 작업물 위에 들어갈 텍스트 스타일 (왼쪽 정렬) ⭐ */
        .work-intro-text {
            text-align: left; 
            font-size: 14px;
            font-weight: normal; 
            margin-bottom: 30px; 
            padding-top: 5px; 
            padding-left: 15px; 
        }


        /* 작업물 항목 스타일링 */
        .work-item {
            margin-bottom: 30px; 
            padding: 15px;
            /* JS에 의해 hidden 클래스가 추가될 수 있음 */
        }

        /* 작업물 헤더 (텍스트): 한 줄 왼쪽 정렬로 변경 */
        .work-header {
            display: flex; 
            justify-content: flex-start; /* 왼쪽 정렬 */
            font-size: 14px;
            font-weight: normal; 
            margin-top: 10px; 
            flex-wrap: nowrap; 
            padding-left: 0px; 
            text-align: left;
        }

        /* 헤더 내부의 텍스트 요소들 */
        .work-header span {
            display: inline; 
            margin: 0; 
            line-height: 1.2;
            white-space: normal; 
        }
        
        .work-header .full-description {
            margin-right: 5px; 
            white-space: normal;
        }

        .work-visual {
            height: 300px; /* 고정된 박스 높이 */
            background-color: #fcfcfc;
            display: flex;
            justify-content: center; /* 중앙 정렬 */
            align-items: center; /* 중앙 정렬 */
            color: #bbb;
            font-style: italic;
            cursor: pointer; 
            overflow: hidden; /* 혹시 모를 오버플로우 방지 */
        }
        
        /* ⭐ 이미지 잘림 방지 (Contain) CSS (핵심 수정) ⭐ */
        .work-visual img {
            width: 100%; /* 너비 100% 사용 */
            height: 100%; /* 높이 100% 사용 */
            display: block; 
            /* 가로 세로 비율에 관계없이 이미지 전체를 컨테이너 안에 맞춰 표시 (잘림 없음) */
            object-fit: contain; 
            /* 남는 공간은 부모(.work-visual)의 배경색(#fcfcfc)으로 채워짐 */
        }


        /* 5. 전체 화면 모달 스타일 */

        .fullscreen-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); 
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .fullscreen-modal.show {
            display: flex;
        }

        #modal-image-container { 
            max-width: 90%; 
            max-height: 90%; 
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fcfcfc; 
            
            width: 100%; 
            height: 100%;
        }
        /* ⭐ 모달 내부 img 태그 스타일 (모달에서도 잘림 방지) ⭐ */
        #modal-image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain; /* 모달에서도 잘림 방지 */
            width: auto; 
            height: auto; 
            display: block; 
        }


        .modal-close {
            position: absolute;
            top: 20px;
            right: 40px;
            color: white;
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .modal-close:hover {
            opacity: 1;
        }

        /* ⭐ 이전/다음 버튼 스타일 ⭐ */
        .modal-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 50px;
            font-weight: bold;
            cursor: pointer;
            padding: 10px;
            user-select: none; 
            opacity: 0.6;
            transition: opacity 0.2s;
        }

        .modal-nav-btn:hover {
            opacity: 1;
        }

        .prev-btn {
            left: 20px;
        }

        .next-btn {
            right: 20px;
        }

        /* ⭐ 모달 캡션/푸터 스타일 ⭐ */
        .modal-caption {
            position: absolute;
            bottom: 20px; 
            left: 50%; 
            transform: translateX(-50%); 
            max-width: 80%; 
            color: white; 
            text-align: center;
            font-size: 14px;
            padding: 10px;
            z-index: 1010; 
        }

        /* 캡션 내부의 work-header 스타일 재정의 */
        .modal-caption .work-header {
            display: flex; 
            justify-content: center; 
            font-size: 14px;
            font-weight: normal;
            margin: 0; 
            flex-wrap: nowrap; 
            padding-left: 0;
            text-align: center;
        }
        /* 모달 캡션 텍스트는 간격을 유지 */
        .modal-caption .work-header .full-description {
            margin: 0; 
        }


        /* JS 상호작용을 위한 숨김 클래스 */
        .work-item.hidden {
            display: none;
        }


        /* 6. 모바일 레이아웃 (최대 768px) */
        @media (max-width: 768px) {
            /* 기본 스크롤 동작 복원 */
            body {
                overflow-y: visible; 
                height: auto;
            }
            
            /* 1. 헤더 재배치 및 간소화 */
            .main-header {
                height: auto;
                padding: 10px 20px;
                display: flex;
                justify-content: space-between; 
                align-items: flex-start;
            }
            
            .top-text {
                position: static;
                font-size: 13px;
            }
            
            .top-jhl { 
                order: 1; 
                font-weight: bold; 
            }
            
            .main-header .top-links-mobile {
                order: 2;
                display: flex;
                gap: 10px;
            }

            .top-works, .main-header .logo { 
                display: none; 
            }
            
            .top-info, .top-note, .top-cv, .top-contact {
                display: block; 
                font-weight: normal; 
                margin-left: 0;
            }
            
            /* 2. 메인 콘텐츠를 수직으로 쌓기 */
            .main-content-wrapper {
                flex-direction: column;
                overflow-y: visible; 
                flex: none; 
                height: auto;
            }

            /* 3. 좌우 패널 너비 100%로 설정 및 순서 명시 */
            .left-panel {
                order: 1; 
                width: 100%;
                height: auto; 
                overflow-y: visible; 
                flex-shrink: 0;
                padding: 20px;
                display: flex;
                flex-direction: column;
            }
            
            .right-panel {
                order: 2; 
                width: 100%;
                height: auto; 
                overflow-y: visible; 
                flex-shrink: 0;
                padding: 20px;
                padding-top: 0; 
                padding-bottom: 80px; 
            }

            /* 4. 정보 텍스트 조정 */
            .cv-info {
                order: 1; 
                margin-top: 0; 
                margin-bottom: 30px; 
            }

            .cv-info .deep-indent {
                margin-left: 0; 
            }
            
            /* 5. 프로젝트 인덱스 테이블 표시 및 순서 설정 */
            .project-table {
                display: grid; 
                order: 2; 
                margin-top: 0; 
                margin-bottom: 20px; 
            }
            
            /* ⭐ 모바일 텍스트 조정 (왼쪽 정렬 유지) ⭐ */
            .work-intro-text {
                text-align: left; 
                margin-bottom: 20px; 
                padding-left: 15px; 
            }

            /* 6. Work Header 스타일 조정 (왼쪽 정렬) */
            .work-header {
                justify-content: flex-start; 
                font-size: 13px;
                font-weight: normal; 
                flex-wrap: wrap; 
                text-align: left;
                padding-left: 0;
            }
            
            .work-header .full-description {
                margin: 0; 
                line-height: 1.5;
                white-space: normal; 
            }
            
            /* 7. 모달 내비게이션 버튼 크기 조정 */
            .modal-nav-btn {
                font-size: 30px; 
            }
            
            /* 8. 모달 캡션 조정 */
            .modal-caption {
                bottom: 10px;
                padding: 5px 10px;
            }
            
            .modal-caption .work-header {
                justify-content: center; 
            }

            /* 모바일 모달 캡션 텍스트 줄바꿈 방지 유지 */
            .modal-caption .work-header span {
                white-space: nowrap;
            }
        }
    </style>
</head>
<body>

    <header class="main-header">
        
        

<div class="top-text top-jhl" id="jhl-reset"><a href="#">Jonghwan Lee</a></div>
        
        

<div class="top-links-mobile"> 
            <div class="top-text top-info">Information</div>
            

<div class="top-text top-note"><a href="/note">Note</a></div>
            <div class="top-text top-cv"><a href="/cv">CV</a></div>
            

<div class="top-text top-contact"><a href="/contact">Contact</a></div>
            <div class="top-text top-works">Works</div>
        </div>
    </header>

    <div class="main-content-wrapper">

        <section class="left-panel">
            <div class="cv-info">
                <p class="indented-text deep-indent">Vestibulum et dignissim magna. Nullam et ultrices felis. Suspendisse facilisis sagittis sit amet sem tempor. Nam sit amet nibh et enim laoreet porta sit amet vel purus. Maecenas augue velit, feugiat in maximus id, auctor vel ex.</p>
            </div>

            <div class="project-table">
                <div class="table-row header">
                    <span class="exhibition">Exhibition</span>
                    <span class="tilte">Title</span>
                    <span class="year">Year</span>
                </div>
                
                

<div class="table-row item">
                    <span class="exhibition">Solo</span>
                    <span class="tilte"><a href="#" data-project-id="Loggia" data-display-title="Loggia, Solo Show (2025)">Loggia</a></span>
                    <span class="year">2025</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="Surgical Room" data-display-title="Surgical Room, Group Exhibition (2025)">Surgical Room</a></span>
                    <span class="year">2025</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="South Parade" data-display-title="CYLINDER x South Parade (2024)">CYLINDER x South Parade</a></span>
                    <span class="year">2024</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Solo</span>
                    <span class="tilte"><a href="#" data-project-id="Hypercube" data-display-title="Hypercube, Solo Exhibition (2023)">Hypercube</a></span>
                    <span class="year">2023</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="The Good Neighbor" data-display-title="The Good Neighbor (좋은이웃) - 2023 Group">The Good Neighbor (좋은이웃)</a></span>
                    <span class="year">2023</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Solo</span>
                    <span class="tilte"><a href="#" data-project-id="Cabinet" data-display-title="Cabinet - Solo, Seoul (2023)">Cabinet</a></span>
                    <span class="year">2023</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="Waiting Room" data-display-title="Waiting Room (Group, 2022)">Waiting Room</a></span>
                    <span class="year">2022</a></span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="Perigee Winter Show" data-display-title="Perigee Winter Show 2022">Perigee Winter Show 2022</a></span>
                    <span class="year">2022</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="The Wild Bunch" data-display-title="The Wild Bunch, Group (2022)">The Wild Bunch</a></span>
                    <span class="year">2022</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="Fonds" data-display-title="Fonds, Group Exhibition (2022)">Fonds</a></span>
                    <span class="year">2022</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="Room of Convexity and Concavity" data-display-title="Room of Convexity and Concavity (철요의 방)">Room of Convexity and Concavity (철요의 방)</a></span>
                    <span class="year">2022</span>
                </div>
                <div class="table-row item">
                    <span class="exhibition">Group</span>
                    <span class="tilte"><a href="#" data-project-id="TORQUE 1" data-display-title="TORQUE 1 / GEAR SHIFT (2021)">TORQUE 1 / GEAR SHIFT,</a></span>
                    <span class="year">2021</span>
                </div>
            </div>
            
        </section>

        <section class="right-panel">
            <div class="selected-work-list">
                

<div class="work-intro-text">Recently Exhibition</div>

                <!-- 이미지는 아래에 JavaScript에 의해 동적으로 생성됩니다. -->
            </div>
        </section>

    </div>
    
    

<div id="fullscreen-modal" class="fullscreen-modal">
        <span class="modal-close">&times;</span>
        <div id="prev-btn" class="modal-nav-btn prev-btn">&#10094;</div>
        <div id="modal-image-container" class="modal-content">
            

</div>
        <div id="next-btn" class="modal-nav-btn next-btn">&#10095;</div>
        <div id="modal-caption" class="modal-caption"></div> 

</div>

    <script>
        // 1. 이미지 데이터 정의 (폴더/파일명을 포함하는 구조)
        const allImageData = [
            // INDEX_DEFAULT - 최근 전시 작품 목록
            { id: 'index_1', projectId: 'INDEX_DEFAULT', isDefault: true, folder: 'index', fileName: 'selected_works_2024_1.jpg', description: 'Group Exhibition / Selected Works 2024 / 1 / 2024', url: 'https://placehold.co/800x450/3498db/ffffff?text=INDEX_1+(WIDER)' },
            { id: 'index_2', projectId: 'INDEX_DEFAULT', isDefault: true, folder: 'index', fileName: 'selected_works_2024_2.jpg', description: 'Group Exhibition / Selected Works 2024 / 2 / 2024', url: 'https://placehold.co/600x400/2ecc71/ffffff?text=INDEX_2+(WIDER)' },
            { id: 'index_3', projectId: 'INDEX_DEFAULT', isDefault: true, folder: 'index', fileName: 'selected_works_2023_1.jpg', description: 'Solo Exhibition / Selected Works 2023 / 1 / 2023', url: 'https://placehold.co/400x600/f39c12/ffffff?text=INDEX_3+(TALLER)' },
            { id: 'index_4', projectId: 'INDEX_DEFAULT', isDefault: true, folder: 'index', fileName: 'selected_works_2023_2.jpg', description: 'Solo Exhibition / Selected Works 2023 / 2 / 2023', url: 'https://placehold.co/800x800/9b59b6/ffffff?text=INDEX_4+(SQUARE)' },
            { id: 'index_5', projectId: 'INDEX_DEFAULT', isDefault: true, folder: 'index', fileName: 'selected_works_2022_1.jpg', description: 'Group Exhibition / Selected Works 2022 / 1 / 2022', url: 'https://placehold.co/450x600/e67e22/ffffff?text=INDEX_5+(TALLER)' },
            
            // Loggia - Loggia 프로젝트 이미지 (폴더/파일명 지정)
            // 첫 번째 이미지는 요청하신 파일명(loggia1.jpg)으로 유지
            { id: 'loggia_1', projectId: 'Loggia', isDefault: false, folder: 'loggiaimages', fileName: 'loggia1.jpg', description: 'SED_DO / Ref. R/XTR-082 (Visual 1/3) / 2049', url: 'loggiaimages/loggia1.jpg' },
            { id: 'loggia_2', projectId: 'Loggia', isDefault: false, folder: 'loggiaimages', fileName: 'loggia2.jpg', description: 'SED_DO / Ref. R/XTR-082 (Visual 2/3) / 2049', url: 'https://placehold.co/600x800/d63031/ffffff?text=LOGGIA_2+(TALLER)' },
            { id: 'loggia_3', projectId: 'Loggia', isDefault: false, folder: 'loggiaimages', fileName: 'loggia3.jpg', description: 'SED_DO / Ref. R/XTR-082 (Visual 3/3) / 2049', url: 'https://placehold.co/900x500/00b894/ffffff?text=LOGGIA_3+(WIDER)' },

            // prt-017 프로젝트 (가상 데이터)
            { id: 'prt_1', projectId: 'prt-017', isDefault: false, folder: 'prt', fileName: 'prt_1.jpg', description: 'SED_DO / Ref. R/PRT-017 (Visual 1/3) / 2048-9', url: 'https://placehold.co/700x400/34495e/ffffff?text=PRT_1' },
            { id: 'prt_2', projectId: 'prt-017', isDefault: false, folder: 'prt', fileName: 'prt_2.jpg', description: 'SED_DO / Ref. R/PRT-017 (Visual 2/3) / 2048-9', url: 'https://placehold.co/400x700/34495e/ffffff?text=PRT_2' },
            { id: 'prt_3', projectId: 'prt-017', isDefault: false, folder: 'prt', fileName: 'prt_3.jpg', description: 'SED_DO / Ref. R/PRT-017 (Visual 3/3) / 2048-9', url: 'https://placehold.co/700x700/34495e/ffffff?text=PRT_3' },
            
            // cxx-500 프로젝트 (가상 데이터)
            { id: 'cxx_1', projectId: 'cxx-500', isDefault: false, folder: 'cxx', fileName: 'cxx_1.jpg', description: 'SED_DO / R/CXX-500 (Visual 1/3) / 2047', url: 'https://placehold.co/600x300/e91e63/ffffff?text=CXX_1' },
            { id: 'cxx_2', projectId: 'cxx-500', isDefault: false, folder: 'cxx', fileName: 'cxx_2.jpg', description: 'SED_DO / R/CXX-500 (Visual 2/3) / 2047', url: 'https://placehold.co/500x700/e91e63/ffffff?text=CXX_2' },
            { id: 'cxx_3', projectId: 'cxx-500', isDefault: false, folder: 'cxx', fileName: 'cxx_3.jpg', description: 'SED_DO / R/CXX-500 (Visual 3/3) / 2047', url: 'https://placehold.co/800x400/e91e63/ffffff?text=CXX_3' },
            
            // 기타 프로젝트 (가상 데이터)
            { id: 'qor_1', projectId: 'qor-809', isDefault: false, folder: 'qor', fileName: 'qor_1.jpg', description: 'SED_DO / Ref. X/QOR-809 (Solo) / 2042', url: 'https://placehold.co/700x400/ff9800/ffffff?text=QOR_1' },
            { id: 'tsl_1', projectId: 'tsl-203', isDefault: false, folder: 'tsl', fileName: 'tsl_1.jpg', description: 'SED_DO / X/TSL-203 (Group) / 2039', url: 'https://placehold.co/400x700/ff9800/ffffff?text=TSL_1' },
            { id: 'tur_1', projectId: 'tur-444', isDefault: false, folder: 'tur', fileName: 'tur_1.jpg', description: 'SED_DO / V/TUR-444 / 2033', url: 'https://placehold.co/600x600/ff9800/ffffff?text=TUR_1' },
            { id: 'qor_2', projectId: 'qor-809', isDefault: false, folder: 'qor', fileName: 'qor_2.jpg', description: 'SED_DO / Ref. X/QOR-809 (Group) / 2042', url: 'https://placehold.co/700x400/ff9800/ffffff?text=QOR_2' },
            { id: 'tsl_2', projectId: 'tsl-203', isDefault: false, folder: 'tsl', fileName: 'tsl_2.jpg', description: 'SED_DO / X/TSL-203 (Group 2) / 2039', url: 'https://placehold.co/400x700/ff9800/ffffff?text=TSL_2' },
        ];


        document.addEventListener('DOMContentLoaded', () => {
            const projectLinks = document.querySelectorAll('.project-table .tilte a');
            const workListContainer = document.querySelector('.right-panel .selected-work-list'); 
            const jhlReset = document.getElementById('jhl-reset');
            const workIntroText = document.querySelector('.work-intro-text'); 

            let activeFilterId = null; 
            
            const modal = document.getElementById('fullscreen-modal');
            const modalImageContainer = document.getElementById('modal-image-container');
            const modalClose = modal.querySelector('.modal-close');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const modalCaption = document.getElementById('modal-caption'); 

            let currentModalImageId = null;
            let currentFilteredImages = []; 
            

            /**
             * 단일 작업 항목 HTML을 생성합니다.
             */
            function createWorkItemHtml(image) {
                const isDefaultAttr = image.isDefault ? 'data-is-default="true"' : '';
                
                return `
                    <article class="work-item" data-project-id="${image.projectId}" data-image-id="${image.id}" ${isDefaultAttr}>
                        <div class="work-visual">
                            <img src="${image.url}" 
                                 alt="${image.folder}/${image.fileName}" 
                                 onerror="this.onerror=null; this.src='https://placehold.co/600x300/CCCCCC/333333?text=Image+Load+Failed';">
                        </div>
                        <div class="work-header">
                            <span class="full-description">${image.description}</span>
                        </div>
                    </article>
                `;
            }

            /**
             * 오른쪽 패널의 작업물 목록을 렌더링합니다.
             */
            const renderWorkList = (filterId = 'INDEX_DEFAULT') => {
                let filteredData;
                
                if (filterId === 'INDEX_DEFAULT') {
                    // 기본 (최근 전시) 필터
                    filteredData = allImageData.filter(item => item.isDefault);
                    workIntroText.textContent = 'Recently Exhibition';
                } else {
                    // 프로젝트 필터
                    filteredData = allImageData.filter(item => item.projectId === filterId);
                    const link = document.querySelector(`.project-table .tilte a[data-project-id="${filterId}"]`);
                    workIntroText.textContent = link ? (link.dataset.displayTitle || link.textContent.trim()) : 'Works';
                }

                workListContainer.innerHTML = filteredData.map(createWorkItemHtml).join('');
                document.querySelector('.right-panel').scrollTop = 0;
                
                // 모달 처리를 위해 현재 필터링된 이미지 목록 업데이트
                currentFilteredImages = filteredData;
            };

            // 모달 콘텐츠 업데이트 함수
            const updateModalContent = (imageId) => {
                const targetImage = currentFilteredImages.find(item => item.id === imageId);
                
                if (targetImage) {
                    // 모달 이미지 컨테이너 내부를 초기화하고 새 이미지 추가
                    modalImageContainer.innerHTML = '';
                    const img = document.createElement('img');
                    img.src = targetImage.url;
                    img.alt = `${targetImage.folder}/${targetImage.fileName}`;
                    // CSS에서 object-fit: contain이 적용되지만 명시적으로 설정
                    img.style.objectFit = 'contain'; 
                    modalImageContainer.appendChild(img);
                    
                    currentModalImageId = targetImage.id;
                    modalCaption.innerHTML = `<div class="work-header"><span class="full-description">${targetImage.description}</span></div>`;

                }
                updateNavButtons();
            };
            
            // 모달 버튼 상태 업데이트 함수
            const updateNavButtons = () => {
                const currentIndex = currentFilteredImages.findIndex(item => item.id === currentModalImageId);
                
                prevBtn.style.display = (currentIndex > 0) ? 'block' : 'none';
                nextBtn.style.display = (currentIndex < currentFilteredImages.length - 1) ? 'block' : 'none';
            };


            // 초기 필터링 및 렌더링
            const resetFilter = () => {
                renderWorkList('INDEX_DEFAULT');
                projectLinks.forEach(l => l.style.fontWeight = 'normal');
                activeFilterId = null;
            };

            resetFilter(); 

            // 2. 프로젝트 링크 클릭 이벤트
            projectLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault(); 
                    const projectId = event.currentTarget.dataset.projectId;
                    
                    projectLinks.forEach(l => l.style.fontWeight = 'normal');

                    if (projectId === activeFilterId) {
                        resetFilter();
                    } else {
                        renderWorkList(projectId);
                        activeFilterId = projectId;
                        event.currentTarget.style.fontWeight = 'bold';
                    }
                });
            });

            // 3. JHL(리셋) 클릭 이벤트
            if (jhlReset) {
                jhlReset.addEventListener('click', (event) => {
                    event.preventDefault(); 
                    resetFilter();
                });
            }
            
            // 4. 작업물 비주얼 클릭 이벤트 (모달 열기)
            workListContainer.addEventListener('click', (event) => {
                const visual = event.target.closest('.work-visual');
                if (visual) {
                    const workItem = visual.closest('.work-item');
                    if (workItem) {
                        const imageId = workItem.dataset.imageId;
                        updateModalContent(imageId);
                        modal.classList.add('show');
                    }
                }
            });
            
            // 5. 모달 닫기 이벤트
            modalClose.addEventListener('click', () => {
                modal.classList.remove('show');
            });

            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                }
            });
            
            // 6. 키보드 및 내비게이션 버튼 이벤트
            document.addEventListener('keydown', (event) => {
                if (modal.classList.contains('show')) {
                    if (event.key === 'Escape') {
                        modal.classList.remove('show');
                    } else if (event.key === 'ArrowLeft') {
                        prevBtn.click();
                    } else if (event.key === 'ArrowRight') {
                        nextBtn.click();
                    }
                }
            });

            prevBtn.addEventListener('click', () => {
                const currentIndex = currentFilteredImages.findIndex(item => item.id === currentModalImageId);
                if (currentIndex > 0) {
                    const prevImage = currentFilteredImages[currentIndex - 1];
                    updateModalContent(prevImage.id);
                }
            });

            nextBtn.addEventListener('click', () => {
                const currentIndex = currentFilteredImages.findIndex(item => item.id === currentModalImageId);
                if (currentIndex < currentFilteredImages.length - 1) {
                    const nextImage = currentFilteredImages[currentIndex + 1];
                    updateModalContent(nextImage.id);
                }
            });
        });
    </script>
</body>
</html>
